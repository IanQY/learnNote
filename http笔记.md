# 《图解HTTP》

## 第1章 了解Web及网络基础
### 1.1 使用HTTP协议访问Web
* Web使用HTTP作为规范（HyperText Transfer Protocol，超文本传输协议）

### 1.2 HTTP的诞生
#### 1.2.1 为知识共享而规划Web
最初设想的基本理念是：借助多文档之间相互关联形成的超文本（HyperText），连成可相互参阅的WWW（World Wide Web，万维网）。

现在已提出了3项WWW构建技术，分别是：把SGML（StandardGeneralized Markup Language，标准通用标记语言）作为页面的文本标记语言的HTML（HyperText Markup Language，超文本标记语言）；作为文档传递协议的HTTP；指定文档所在地址的URL（UniformResource Locator，统一资源定位符）。

#### 1.2.2 Web成长时代
* 1990年
* 1993年1月
* 1994年的12月
* 1995年
* 2000年
* 2004年
#### 1.2.3 驻足不前的HTTP
* HTTP/0.9
* HTTP/1.0
* HTTP/1.1
* HTTP/2.0

### 1.3 网络基础TCP/IP
* HTTP属于TCP/IP协议族子集。
#### 1.3.1 TCP/IP协议族
#### 1.3.2 TCP/IP的分层管理
* **应用层**
    应用层决定了向用户提供应用服务时通信的活动。TCP/IP协议族内预存了各类通用的应用服务。比如，FTP（FileTransfer Protocol，文件传输协议）和DNS（Domain NameSystem，域名系统）服务就是其中两类。HTTP协议也处于该层。
* **传输层**
    传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。在传输层有两个性质不同的协议：TCP（Transmission ControlProtocol，传输控制协议）和UDP（User Data Protocol，用户数据报协议）。
* **网络层（又名网络互连层）**
    网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。
* **链路层（又名数据链路层，网络接口层）**
    用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。


#### 1.3.3 TCP/IP通信传输流
* 应用层 （HTTP客户端）
* 传输层 （TCP）
* 网络层 （IP）
* 链路层 （网络）

* ***封装***
### 1.4 与HTTP关系密切的协议：IP、TCP和DNS
#### 1.4.1 负责传输的IP协议
* IP（Internet Protocol）网际协议
* MAC地址（Media Access Control Address）

    **使用ARP协议凭借MAC地址进行通信**

    IP地址可变，MAC地址不可变
* 路由选择（routing）

#### 1.4.2 确保可靠性的TCP协议
**字节流服务（Byte Stream Service）** 是指，为了方便传输，将大块数据分割成以 **报文段（segment）** 为单位的数据包进行管理。
* TCP协议采用了 **三次握手（three-way handshaking）** 策略。

### 1.5 负责域名解析的DNS服务

* DNS（Domain Name System）服务是和HTTP协议一样位于应用层的协议。它提供域名到IP地址之间的解析服务。
### 1.6 各种协议与HTTP协议的关系


### 1.7 URI和URL
与URI（统一资源标识符）相比，我们更熟悉URL（Uniform ResourceLocator，统一资源定位符）
#### 1.7.1 统一资源标识符
* Uniform
    >规定统一的格式可方便处理多种不同类型的资源，而不用根据上下文环境来识别资源指定的访问方式。另外，加入新增的协议方案（如http：或ftp:）也更容易。
* Resource
    >资源的定义是“可标识的任何东西”。不仅是文档文件，图像或服务（例如当天的天气预报）等能够区别于其他类型的，全都可作为资源。另外，资源不仅可以是单一的，也可以是多数的集合体。
* Identifier
    >表示可标识的对象。也称为标识符。
#### 1.7.2 URI格式

* 登录信息（认证）
    * 指定用户名和密码作为从服务器端获取资源时必要的登录信息（身份认证）。此项是可选项。
* 服务器地址
    * 使用绝对URI必须指定待访问的服务器地址。地址可以是类似hackr.jp这种DNS可解析的名称，或是192.168.1.1这类IPv4地址名，还可以是[0:0:0:0:0:0:0:1]这样用方括号括起来的IPv6地址名。
* 服务器端口号
    * 指定服务器连接的网络端口号。此项也是可选项，若用户省略则自动使用默认端口号。
* 带层次的文件路径
    * 指定服务器上的文件路径来定位特指的资源。这与UNIX系统的文件目录结构相似。
* 查询字符串
    * 针对已指定的文件路径内的资源，可以使用查询字符串传入任意参数。此项可选。
* 片段标识符
    * 使用片段标识符通常可标记出已获取资源中的子资源（文档内的某个位置）。但在RFC中并没有明确规定其使用方法。该项也为可选项。


## 第2章 简单的HTTP协议
### 2.1 HTTP协议用于客户端和服务器端之间的通信


### 2.2 通过请求和响应的交换达成通信

* 请求从客户端发出，最后服务器端响应该请求并返回。
### 2.3 HTTP是不保存状态的协议
* HTTP/1.1虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了Cookie技术。

### 2.4 请求URI定位资源

### 2.5 告知服务器意图的HTTP方法
* GET：获取资源
* POST：传输实体主体
* PUT：传输文件
* HEAD：获得报文首部
* DELETE：删除文件
* OPTIONS：询问支持的方法
* TRACE：追踪路径
* CONNECT：要求用隧道协议连接代理

### 2.6 使用方法下达命令


### 2.7 持久连接节省通信量
#### 2.7.1 持久连接
* 持久连接（HTTP Persistent Connections，也称为HTTP keep-alive或HTTPconnection reuse）
    * 只要任意一端没有明确提出断开连接，则保持TCP连接状态。

#### 2.7.2 管线化

### 2.8 使用Cookie的状态管理


## 第3章 HTTP报文内的HTTP信息
### 3.1 HTTP报文
### 3.2 请求报文及响应报文的结构
### 3.3 编码提升传输速率
### 3.4 发送多种数据的多部分对象集合
### 3.5 获取部分内容的范围请求
### 3.6 内容协商返回最合适的内容
## 第4章 返回结果的HTTP状态码
## 4.1 状态码告知从服务器端返回的请求结果
## 4.2 2XX成功
## 4.3 3XX重定向
## 4.4 4XX客户端错误
## 4.5 5XX服务器错误
## 第5章 与HTTP协作的Web服务器
## 5.1 用单台虚拟主机实现多个域名
## 5.2 通信数据转发程序：代理、网关、隧道
## 5.3 保存资源的缓存
## 第6章 HTTP首部
## 6.1 HTTP报文首部
## 6.2 HTTP首部字段
## 6.3 HTTP/1.1 通用首部字段
## 6.4 请求首部字段
## 6.5 响应首部字段
## 6.6 实体首部字段
## 6.7 为Cookie服务的首部字段
## 6.8 其他首部字段
## 第7章 确保Web安全的HTTPS
## 7.1 HTTP的缺点
## 7.2 HTTP+加密+认证+完整性保护=HTTPS
## 第8章 确认访问用户身份的认证
## 8.1 何为认证
## 8.2 BASIC认证
## 8.3 DIGEST认证
## 8.4 SSL客户端认证
## 8.5 基于表单认证
## 第9章 基于HTTP的功能追加协议
## 9.1 基于HTTP的协议
## 9.2 消除HTTP瓶颈的SPDY
## 9.3 使用浏览器进行全双工通信的WebSocket
## 9.4 期盼已久的HTTP/2.0
## 9.5 Web服务器管理文件的WebDAV
## 第10章 构建Web内容的技术
## 10.1 HTML
## 10.2 动态HTML
## 10.3 Web应用
## 10.4 数据发布的格式及语言
## 第11章 Web的攻击技术
## 11.1 针对Web的攻击技术
## 11.2 因输出值转义不完全引发的安全漏洞
## 11.3 因设置或设计上的缺陷引发的安全漏洞
## 11.4 因会话管理疏忽引发的安全漏洞
## 11.5 其他安全漏洞